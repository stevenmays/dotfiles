# Coding Principles

## Simplicity
- Write immediately understandable code
- Optimize for readability first, performance second
- If it feels complex, simplify it

## Functions
- Single responsibility, under 20 lines
- 3 or fewer parameters
- Early returns over nested conditionals
- Pure functions where possible

## Error Handling
- Handle errors at function top level
- Throw real Error objects with context
- Don't use errors for control flow

## TypeScript
- Let TypeScript infer return types
- Use interfaces for objects, type for unions
- Use angle brackets for casts: <Type>value
- Use type guards for runtime validation
- Avoid `any` - use `unknown` instead

## Naming
- camelCase for variables/functions
- kebab-case for files
- snake_case for database/API fields

## Imports
- ES modules only (no require)
- Prefer namespace imports: import * as lib from 'lib'
- Group: node builtins, external, internal

## Avoid
- Global state
- Deeply nested callbacks
- Clever one-liners
- Excessive comments that state the obvious
- Defensive checks on already-validated data
- Casting to `any` to silence type errors
- Over-engineering (single-use wrappers, interfaces)
- More logging than the file's existing pattern

## When Editing Existing Files
- Match the file's existing style
- Don't add comments inconsistent with the rest of the file
- Don't add defensive checks the codebase doesn't use elsewhere